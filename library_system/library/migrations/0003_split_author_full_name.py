# Generated by Django 5.2 on 2025-05-20 15:33

from django.db import migrations


def split_full_name(apps, schema_editor):
    Author = apps.get_model("library", "Author")
    for author in Author.objects.all():
        parts = author.full_name.strip().split(" ", 1)
        author.first_name = parts[0]
        author.last_name = parts[-1] if len(parts) > 1 else None
        author.middle_name = parts[1:-1] if len(parts) > 2 else None
        author.save()


class Migration(migrations.Migration):

    dependencies = [
        ("library", "0002_expand_models"),
    ]

    operations = [
        migrations.RunPython(split_full_name),
        migrations.RemoveField(model_name="author", name="full_name"),
    ]
